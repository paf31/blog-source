function j(e,t){function n(e,t){var n=new Array(t.length);for(var r=0;r<t.length;r++){n[r]=t[(r+e)%t.length]}return n}function r(e,t,n){var i=e[n%e.length];if(t<l){return{h:i,x:t/l*h,y:0}}else if(t<i){var s=(t-l)/(i-l);if(i%2==0){return{h:i,x:h*(i-t)/(i-l),y:s}}else{return{h:i,x:h+(1-h)*(t-l)/(i-l),y:s}}}else{var o=r(e,t-i,n+i);if(i%2==1){o.x++}return o}}function i(e){if(e<0){return i(-e)}else if(e>1){return 1-i(1-e)}else{return e}}function s(e,t,n){var e=10+280*e;var t=290-280*(4*n*t*(1-t)/d);return{x:e,y:t}}function b(){var e=(new Date).getTime()-a;for(var t=0;t<p;t++){var n=t*c;var o=(e-n)%m/c;var u=g[t];var f=r(u,o,0);var l=s(i(t+f.x),f.y,f.h-1);$(w[t]).css({left:l.x-5,top:l.y-5})}}var o=(new Date).getTime();var u=(new Date).getTime();var a=0;var f=eval(t);var l=.35;var c=500;var h=.2;var p=0;var d=0;for(var v=0;v<f.length;v++){p+=2*f[v];d=Math.max(f[v],d)}var m=c*p;var g=new Array(p);for(var y=0;y<p;y++){g[y]=n(y,f)}var w=new Array(p);for(var v=0;v<p;v++){e.append(w[v]=$('<span class="p">'))}var E=null;b();(function(e){e.click(function(){if(E==null){E=window.setInterval(b,5);e.text("Stop");e.addClass("pressed");o=(new Date).getTime();a+=o-u}else{window.clearInterval(E);E=null;e.text("Start");e.removeClass("pressed");u=(new Date).getTime()}})})($("<button>Start</button>").appendTo(e))}$(function(){$(".j").each(function(){j($(this),$(this).attr("data-j"))})})